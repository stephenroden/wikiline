<section class="board" #board>
  <div
    class="slots"
    cdkDropList
    #timelineList="cdkDropList"
    id="timelineList"
    [cdkDropListData]="slots"
    [cdkDropListConnectedTo]="connections"
    [cdkDropListEnterPredicate]="canEnter"
    (cdkDropListDropped)="dropOnTimeline.emit($event)"
    [cdkDropListAutoScrollDisabled]="false"
  >
    <div
      class="timeline-insert-line"
      *ngIf="insertTopPx !== null && insertHeight"
      [style.top.px]="insertTopPx"
      [style.height.px]="insertHeight"
    ></div>
    <div
      class="timeline-card"
      *ngFor="let slot of slots; let i = index; trackBy: trackBySlot"
      [class.corrected]="isCorrected(slot)"
      [class.clickable]="slot.url"
      [attr.role]="slot.url ? 'link' : null"
      [attr.tabindex]="slot.url ? 0 : null"
      (click)="openLink(slot)"
      (keydown.enter)="openLink(slot)"
      #timelineCard
      cdkDrag
      [cdkDragDisabled]="true"
    >
      <div class="year">{{ slot.year }}</div>
      <div class="title">
        <img *ngIf="slot.thumbnail" class="thumb" [src]="slot.thumbnail" [alt]="slot.title" loading="lazy" />
        <div class="title-text">
          <div class="title-main">{{ slot.title }}</div>
          <div class="misplaced-note" *ngIf="isCorrected(slot) && incorrectMessage(slot)">
            {{ incorrectMessage(slot) }}
          </div>
          <a
            *ngIf="slot.url"
            class="title-link muted"
            [href]="slot.url"
            target="_blank"
            rel="noopener noreferrer"
          >
            {{ slot.url }}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
